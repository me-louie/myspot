{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pearls\\\\Desktop\\\\Summer 2020\\\\CPSC 436i\\\\Project\\\\myspot\\\\src\\\\components\\\\NowPlaying.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport Spotify from \"spotify-web-api-js\";\nconst spotifyWebApi = new Spotify();\n\nclass NowPlaying extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nowPlaying: {\n        name: \"\",\n        image: \"\"\n      }\n    };\n    spotifyWebApi.setAccessToken(this.props.spotifyWebApi);\n  }\n\n  getNowPlaying() {\n    // console.log(\"spotifywebApi inside getnowplaying\");\n    // console.log(this.props.spotifyWebApi);\n    // spotifyWebApi.setAccessToken(this.props.spotifyWebApi);\n    spotifyWebApi.getMyCurrentPlaybackState().then(response => {\n      console.log(\"response is: \");\n      console.log(response);\n      this.setState({\n        nowPlaying: {\n          name: response.item.name,\n          image: response.item.album.images[0].url\n        }\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    if (!this.state.nowPlaying.name) {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.getNowPlaying(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }\n      }, \"Check Now Playing\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.getNowPlaying(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      }, \"Check Now Playing\"), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }\n      }, \"Now Playing: \", this.state.nowPlaying.name), /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.nowPlaying.image,\n        alt: \"Media for Now Playing\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }\n      }));\n    }\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    spotifyWebApi: state.spotifyWebApi\n  };\n};\n\nexport default connect(mapStateToProps)(NowPlaying);","map":{"version":3,"sources":["C:/Users/Pearls/Desktop/Summer 2020/CPSC 436i/Project/myspot/src/components/NowPlaying.js"],"names":["React","connect","Spotify","spotifyWebApi","NowPlaying","Component","constructor","props","state","nowPlaying","name","image","setAccessToken","getNowPlaying","getMyCurrentPlaybackState","then","response","console","log","setState","item","album","images","url","catch","err","render","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,MAAMC,aAAa,GAAG,IAAID,OAAJ,EAAtB;;AAEA,MAAME,UAAN,SAAyBJ,KAAK,CAACK,SAA/B,CAAyC;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE;AACVC,QAAAA,IAAI,EAAE,EADI;AAEVC,QAAAA,KAAK,EAAE;AAFG;AADD,KAAb;AAMAR,IAAAA,aAAa,CAACS,cAAd,CAA6B,KAAKL,KAAL,CAAWJ,aAAxC;AACD;;AAEDU,EAAAA,aAAa,GAAG;AACd;AACA;AACA;AACAV,IAAAA,aAAa,CACVW,yBADH,GAEGC,IAFH,CAESC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,WAAKG,QAAL,CAAc;AACZV,QAAAA,UAAU,EAAE;AACVC,UAAAA,IAAI,EAAEM,QAAQ,CAACI,IAAT,CAAcV,IADV;AAEVC,UAAAA,KAAK,EAAEK,QAAQ,CAACI,IAAT,CAAcC,KAAd,CAAoBC,MAApB,CAA2B,CAA3B,EAA8BC;AAF3B;AADA,OAAd;AAMD,KAXH,EAYGC,KAZH,CAYUC,GAAD,IAAS;AACdR,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACD,KAdH;AAeD;;AAEDC,EAAAA,MAAM,GAAG;AACP,QAAI,CAAC,KAAKlB,KAAL,CAAWC,UAAX,CAAsBC,IAA3B,EAAiC;AAC/B,0BACE;AAAQ,QAAA,OAAO,EAAE,MAAM,KAAKG,aAAL,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF;AAGD,KAJD,MAIO;AACL,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAQ,QAAA,OAAO,EAAE,MAAM,KAAKA,aAAL,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAkB,KAAKL,KAAL,CAAWC,UAAX,CAAsBC,IAAxC,CAJF,eAKE;AAAK,QAAA,GAAG,EAAE,KAAKF,KAAL,CAAWC,UAAX,CAAsBE,KAAhC;AAAuC,QAAA,GAAG,EAAC,uBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF;AASD;AACF;;AAjDsC;;AAoDzC,MAAMgB,eAAe,GAAInB,KAAD,IAAW;AACjC,SAAO;AACLL,IAAAA,aAAa,EAAEK,KAAK,CAACL;AADhB,GAAP;AAGD,CAJD;;AAMA,eAAeF,OAAO,CAAC0B,eAAD,CAAP,CAAyBvB,UAAzB,CAAf","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Spotify from \"spotify-web-api-js\";\r\n\r\nconst spotifyWebApi = new Spotify();\r\n\r\nclass NowPlaying extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      nowPlaying: {\r\n        name: \"\",\r\n        image: \"\",\r\n      },\r\n    };\r\n    spotifyWebApi.setAccessToken(this.props.spotifyWebApi);\r\n  }\r\n\r\n  getNowPlaying() {\r\n    // console.log(\"spotifywebApi inside getnowplaying\");\r\n    // console.log(this.props.spotifyWebApi);\r\n    // spotifyWebApi.setAccessToken(this.props.spotifyWebApi);\r\n    spotifyWebApi\r\n      .getMyCurrentPlaybackState()\r\n      .then((response) => {\r\n        console.log(\"response is: \");\r\n        console.log(response);\r\n        this.setState({\r\n          nowPlaying: {\r\n            name: response.item.name,\r\n            image: response.item.album.images[0].url,\r\n          },\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.nowPlaying.name) {\r\n      return (\r\n        <button onClick={() => this.getNowPlaying()}>Check Now Playing</button>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <button onClick={() => this.getNowPlaying()}>\r\n            Check Now Playing\r\n          </button>\r\n          <h2>Now Playing: {this.state.nowPlaying.name}</h2>\r\n          <img src={this.state.nowPlaying.image} alt=\"Media for Now Playing\" />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    spotifyWebApi: state.spotifyWebApi,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(NowPlaying);\r\n"]},"metadata":{},"sourceType":"module"}